<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>HEHEHEHE</title>
<style>
body {
    margin: 0;
    height: 100vh;
    display: flex;
    justify-content: center;
    align-items: center;
    background: #f7f7f7;
    text-align: center;
    font-family: Arial, sans-serif;
    overflow: hidden;
    flex-direction: column;
}

.photo, .photo-label {
    display: none;
    margin-bottom: 5px;
}

.photo {
    width: 220px;
    transition: opacity 0.2s ease;
}

.photo-label {
    font-size: 24px;
    font-weight: bold;
}

#buttonContainer, #secondButtonContainer {
    display: flex;
    gap: 20px;
    margin-top: 20px;
}

button {
    padding: 12px 22px;
    font-size: 18px;
    border-radius: 10px;
    border: none;
    background: #ffb3ec;
    cursor: pointer;
}

.emoji {
    position: absolute;
    font-size: 24px;
    opacity: 1;
    animation: floatUp 2s linear forwards;
}

@keyframes floatUp {
    0% { transform: translateY(0); opacity: 1; }
    100% { transform: translateY(-120px); opacity: 0; }
}

/* absolutely position second-level elements to avoid mobile layout issues */
#reallyLabel, #secondButtonContainer {
    position: absolute;
    top: 50%;
    transform: translateY(0);
    left: 50%;
    transform: translateX(-50%);
    display: none;
    opacity: 0;
}
</style>
</head>
<body>

<img id="photoYes" class="photo" src="images/yay.jpeg">
<div id="labelYes" class="photo-label" style="color: green;">Yay</div>

<img id="photoNo" class="photo" src="images/ugh.jpeg">
<div id="labelNo" class="photo-label" style="color: red;">Boo</div>

<h1>‰∫Æ‰∫Æ ·Äú·ÄΩ·Äô·Ä∫·Ä∏·Äú·Ä¨·Ä∏</h1>

<div id="buttonContainer">
    <button id="yesBtn">Yes</button>
    <button id="noBtn">No</button>
</div>

<div id="reallyLabel">Really?</div>
<div id="secondButtonContainer">
    <button id="secondYesBtn">Yes</button>
    <button id="secondNoBtn">No</button>
</div>

<img id="photoWhy" class="photo" src="images/why.jpeg">
<div id="labelWhy" class="photo-label" style="color: red;">Boo, you suck</div>

<img id="photoYayAgain" class="photo" src="images/yay.jpeg">
<div id="labelYayAgain" class="photo-label" style="color: green;">Yay I knew it</div>

<script>
const yesBtn = document.getElementById("yesBtn");
const noBtn = document.getElementById("noBtn");
const secondYesBtn = document.getElementById("secondYesBtn");
const secondNoBtn = document.getElementById("secondNoBtn");

const photoYes = document.getElementById("photoYes");
const labelYes = document.getElementById("labelYes");
const photoNo = document.getElementById("photoNo");
const labelNo = document.getElementById("labelNo");

const reallyLabel = document.getElementById("reallyLabel");
const secondButtonContainer = document.getElementById("secondButtonContainer");

const photoWhy = document.getElementById("photoWhy");
const labelWhy = document.getElementById("labelWhy");
const photoYayAgain = document.getElementById("photoYayAgain");
const labelYayAgain = document.getElementById("labelYayAgain");

let activeTimeout = null;

function spawnEmojis(symbol) {
    document.querySelectorAll(".emoji").forEach(e => e.remove());
    for (let i = 0; i < 10; i++) {
        const emoji = document.createElement("div");
        emoji.classList.add("emoji");
        emoji.innerHTML = symbol;
        emoji.style.color = symbol === "‚ù§" ? "red" : "black";
        emoji.style.left = (20 + Math.random() * (window.innerWidth - 40)) + "px";
        emoji.style.top = (20 + Math.random() * (window.innerHeight / 2)) + "px";
        emoji.style.fontSize = (20 + Math.random() * 20) + "px";
        document.body.appendChild(emoji);
        setTimeout(() => emoji.remove(), 2000);
    }
}

function showPhoto(photo, label, emojiSymbol = null, extraElements = []) {
    if (activeTimeout) clearTimeout(activeTimeout);
    document.querySelectorAll(".emoji").forEach(e => e.remove());

    [photoYes, photoNo, photoWhy, photoYayAgain].forEach(p => { p.style.display = "none"; p.style.opacity = 0; });
    [labelYes, labelNo, labelWhy, labelYayAgain].forEach(l => { l.style.display = "none"; l.style.opacity = 0; });

    // hide extra elements first
    [reallyLabel, secondButtonContainer].forEach(el => { el.style.display = "none"; el.style.opacity = 0; });

    // show new photo and label
    photo.style.display = "block";
    label.style.display = "block";
    requestAnimationFrame(() => {
        photo.style.opacity = 1;
        label.style.opacity = 1;
    });

    // show extra elements
    extraElements.forEach(el => {
        el.style.display = "block";
        requestAnimationFrame(() => el.style.opacity = 1);
    });

    if (emojiSymbol) spawnEmojis(emojiSymbol);

    // hide everything after 5s
    activeTimeout = setTimeout(() => {
        photo.style.opacity = 0;
        label.style.opacity = 0;
        extraElements.forEach(el => el.style.opacity = 0);
        setTimeout(() => {
            photo.style.display = "none";
            label.style.display = "none";
            extraElements.forEach(el => el.style.display = "none");
        }, 200);
        activeTimeout = null;
    }, 5000);
}

// First-level buttons
yesBtn.addEventListener("click", () => {
    showPhoto(photoYes, labelYes, "‚ù§");
});

noBtn.addEventListener("click", () => {
    showPhoto(photoNo, labelNo, "üñï", [reallyLabel, secondButtonContainer]);
});

// Second-level buttons
secondYesBtn.addEventListener("click", () => showPhoto(photoWhy, labelWhy, "üñï"));
secondNoBtn.addEventListener("click", () => showPhoto(photoYayAgain, labelYayAgain, "‚ù§"));
</script>

</body>
</html>
