<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Do You Miss Me</title>
<style>
    body {
        margin: 0;
        height: 100vh;
        display: flex;
        justify-content: center;
        align-items: center;
        background: #f7f7f7;
        text-align: center;
        font-family: Arial, sans-serif;
        overflow: hidden;
        flex-direction: column;
    }

    .photo, .photo-label {
        display: none;
        margin-bottom: 5px;
    }

    .photo {
        width: 220px;
        transition: opacity 0.2s ease;
    }

    .photo-label {
        font-size: 24px;
        font-weight: bold;
    }

    #buttonContainer, #secondButtonContainer {
        display: flex;
        gap: 20px;
        margin-top: 20px;
    }

    button {
        padding: 12px 22px;
        font-size: 18px;
        border-radius: 10px;
        border: none;
        background: #ffb3ec;
        cursor: pointer;
    }

    .emoji {
        position: absolute;
        font-size: 24px;
        opacity: 1;
        animation: floatUp 2s linear forwards;
    }

    @keyframes floatUp {
        0% { transform: translateY(0); opacity: 1; }
        100% { transform: translateY(-120px); opacity: 0; }
    }

    #reallyLabel {
        font-size: 20px;
        font-weight: bold;
        margin-top: 10px;
        display: none;
    }

    #secondButtonContainer {
        display: none;
    }
</style>
</head>
<body>

<!-- First-level photos -->
<img id="photoYes" class="photo" src="yay.jpeg">
<div id="labelYes" class="photo-label" style="color: green;">Yay</div>

<img id="photoNo" class="photo" src="ugh.jpeg">
<div id="labelNo" class="photo-label" style="color: red;">Boo</div>

<h1>Do you miss me?</h1>

<!-- First-level buttons -->
<div id="buttonContainer">
    <button id="yesBtn">Yes</button>
    <button id="noBtn">No</button>
</div>

<!-- Second-level label and buttons -->
<div id="reallyLabel">Really?</div>
<div id="secondButtonContainer">
    <button id="secondYesBtn">Yes</button>
    <button id="secondNoBtn">No</button>
</div>

<!-- Second-level photos -->
<img id="photoWhy" class="photo" src="why.jpeg">
<div id="labelWhy" class="photo-label" style="color: red;">Boo, you suck</div>

<img id="photoYayAgain" class="photo" src="yay.jpeg">
<div id="labelYayAgain" class="photo-label" style="color: green;">Yay I knew it</div>

<script>
const yesBtn = document.getElementById("yesBtn");
const noBtn = document.getElementById("noBtn");
const secondYesBtn = document.getElementById("secondYesBtn");
const secondNoBtn = document.getElementById("secondNoBtn");

const photoYes = document.getElementById("photoYes");
const labelYes = document.getElementById("labelYes");
const photoNo = document.getElementById("photoNo");
const labelNo = document.getElementById("labelNo");

const reallyLabel = document.getElementById("reallyLabel");
const secondButtonContainer = document.getElementById("secondButtonContainer");

const photoWhy = document.getElementById("photoWhy");
const labelWhy = document.getElementById("labelWhy");
const photoYayAgain = document.getElementById("photoYayAgain");
const labelYayAgain = document.getElementById("labelYayAgain");

let activeTimeout = null;

// Emoji function
function spawnEmojis(symbol) {
    document.querySelectorAll(".emoji").forEach(e => e.remove());
    for (let i=0;i<10;i++){
        const emoji = document.createElement("div");
        emoji.classList.add("emoji");
        emoji.innerHTML = symbol;
        emoji.style.color = symbol==="‚ù§"?"red":"black";
        emoji.style.left = (20 + Math.random()*(window.innerWidth-40))+"px";
        emoji.style.top = (20 + Math.random()*(window.innerHeight/2))+"px";
        emoji.style.fontSize = (20 + Math.random()*20)+"px";
        document.body.appendChild(emoji);
        setTimeout(()=>emoji.remove(),2000);
    }
}

// Show photo + label + optional extra elements + emoji
function showPhoto(photo, label, emojiSymbol=null, extraElements=[]) {
    if(activeTimeout) clearTimeout(activeTimeout);
    document.querySelectorAll(".emoji").forEach(e => e.remove());

    // Hide only photos and their labels
    [photoYes, photoNo, photoWhy, photoYayAgain].forEach(p => p.style.display = "none");
    [labelYes, labelNo, labelWhy, labelYayAgain].forEach(l => { l.style.display="none"; l.style.opacity="1"; });

    // Show new photo and label
    photo.style.display = "block";
    label.style.display = "block";
    photo.style.opacity = "0";
    label.style.opacity = "0";

    // Fade-in
    setTimeout(()=> {
        photo.style.opacity = "1";
        label.style.opacity = "1";
    },30);

    // Show any extra elements (like Really? label + second buttons)
    extraElements.forEach(el => {
        el.style.display = "block";
        el.style.opacity = "1";
    });

    if (emojiSymbol) spawnEmojis(emojiSymbol);

    // Hide everything after 5 seconds
    activeTimeout = setTimeout(()=>{
        photo.style.opacity = "0";
        label.style.opacity = "0";
        extraElements.forEach(el => el.style.opacity = "0");

        setTimeout(()=>{
            photo.style.display = "none";
            label.style.display = "none";
            extraElements.forEach(el => el.style.display="none");
            label.style.opacity="1";
            extraElements.forEach(el => el.style.opacity="1");
        },200);

        activeTimeout = null;
    },5000);
}

// First-level buttons
yesBtn.addEventListener("click", () => {
    reallyLabel.style.display = "none";
    secondButtonContainer.style.display = "none";
    showPhoto(photoYes, labelYes, "‚ù§"); 
});

noBtn.addEventListener("click", () => {
    showPhoto(photoNo, labelNo, "üñï", [reallyLabel, secondButtonContainer]);
});

// Second-level buttons
secondYesBtn.addEventListener("click", () => showPhoto(photoWhy, labelWhy, "üñï"));
secondNoBtn.addEventListener("click", () => showPhoto(photoYayAgain, labelYayAgain, "‚ù§"));
</script>

</body>
</html>
